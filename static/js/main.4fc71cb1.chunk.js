(this["webpackJsonpstore-niko-correa"]=this["webpackJsonpstore-niko-correa"]||[]).push([[0],{28:function(e,t,n){},31:function(e,t,n){},37:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),s=n(22),a=n.n(s),i=(n(28),n(4)),o=n.n(i),l=n(9),u=n(8),j=n(0),d=Object(c.createContext)(),h=function(e){var t=Object(c.useState)([]),n=Object(u.a)(t,2),r=n[0],s=n[1],a=Object(c.useState)([]),i=Object(u.a)(a,2),o=i[0],l=i[1],h=Object(c.useState)(1),p=Object(u.a)(h,2),b=p[0],O=p[1];return Object(j.jsx)(d.Provider,{value:{userData:r,setUserData:s,productData:o,setProductData:l,currentPage:b,setCurrentPage:O},children:e.children})},p=n.p+"static/media/aerolab-logo.0a8fb170.svg",b=n.p+"static/media/coin.b8bc711d.svg",O=(n(31),"https://coding-challenge-api.aerolab.co/user/me"),f={method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTBjOTc5NWQwMDVjZDAwMjE0NDc3MDkiLCJpYXQiOjE2MjgyMTUxODl9.WnOZ5f3lMVnjsX3VI8JKQlCOI3nf1Nu6IhtkdykdsfI",redirect:"follow"}},x=n(10);var m=function(){var e=Object(c.useContext)(d),t=e.userData,n=e.setUserData;return Object(c.useEffect)((function(){0===t.length&&function(){var e=Object(l.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTBjOTc5NWQwMDVjZDAwMjE0NDc3MDkiLCJpYXQiOjE2MjgyMTUxODl9.WnOZ5f3lMVnjsX3VI8JKQlCOI3nf1Nu6IhtkdykdsfI",redirect:"follow"}});case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,n(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[t,n]),Object(j.jsxs)("header",{children:[Object(j.jsxs)("div",{className:"header-container",children:[Object(j.jsx)("img",{src:p,alt:"aerolab-logo",className:"logo-container"}),Object(j.jsxs)("div",{className:"user-container",children:[Object(j.jsx)("p",{className:"user-text",children:t.name}),Object(j.jsxs)("div",{className:"point-container",children:[Object(j.jsx)("p",{children:t.points}),Object(j.jsx)("img",{src:b,alt:"coin",className:"coin-container"})]}),Object(j.jsxs)("div",{className:"navegation-container",children:[Object(j.jsx)("li",{className:"route-text",children:Object(j.jsx)(x.b,{to:"/store-niko-correa",children:"Home"})}),Object(j.jsx)("li",{className:"route-text",children:Object(j.jsx)(x.b,{to:"/redeem",children:"Redeems"})}),Object(j.jsx)("li",{className:"route-text",children:Object(j.jsx)(x.b,{to:"/points",children:"Points"})})]})]})]}),Object(j.jsxs)("div",{className:"navbar-pic",children:[Object(j.jsx)("img",{src:"https://i.ibb.co/k1Hdf4J/header-x1.png",alt:"header-x1",border:"0",className:"pic-container"}),Object(j.jsx)("h1",{className:"title",children:"Electronics "})]})]})},N=(n(37),n.p+"static/media/buy-blue.c5c4f01c.svg"),v=n.p+"static/media/buy-white.9b6e6567.svg",g=n(13),I=n.n(g),y=function(){I.a.fire({icon:"error",title:"Error",text:"Oh no, something went wrong!",confirmButtonText:"Continue",footer:'<a href="/points">More Points here</a>'})};n(48);var M=function(e){var t=e.cost,n=e.handleReedem,c=e.id,r=e.userPoints,s=Object(j.jsx)("button",{className:"button-reedem",onClick:function(){return n(c,t)},children:"Reedem now"}),a=Object(j.jsx)("button",{className:"button-reedem",onClick:y,children:"Reedem now"});return Object(j.jsx)("div",{className:"blue-container",children:Object(j.jsxs)("div",{className:"blue-info-container",children:[Object(j.jsxs)("div",{className:"info-container",children:[Object(j.jsx)("p",{className:"text-info-blue",children:t})," ",Object(j.jsx)("img",{src:b,alt:"coin",className:"coin"})]}),r<t?a:s]})})},k=function(){I.a.fire({icon:"success",title:"Success",text:"Yeah, everything is working!",confirmButtonText:"Continue"})};n(49);var C=function(e){var t=e.currentPage,n=e.next,c=e.prev,r=e.handleByPrice;return Object(j.jsx)("div",{className:"navbar-container",children:Object(j.jsxs)("nav",{className:"nav-items",children:[Object(j.jsxs)("h3",{className:"nav-text-amount",children:["".concat(16," of products ",32)," "]}),Object(j.jsx)("hr",{className:"line-nav"}),Object(j.jsx)("h3",{className:"sort-by-text",children:"sort by:"}),Object(j.jsx)("button",{className:"select-most-recent",type:"button",onClick:function(){return r("All Products")},children:"All Products"}),Object(j.jsx)("button",{className:"select-lowest-price",type:"button",onClick:function(){return r("Lowest Price")},children:"Lowest Price "}),Object(j.jsx)("button",{className:"select-highest-price",type:"button",onClick:function(){return r("Highest Price")},children:"Highest Price "}),Object(j.jsxs)("div",{className:"pagination",children:[Object(j.jsx)("button",{className:"left-arrow",onClick:c,children:" V "}),Object(j.jsxs)("button",{className:"count-container",children:[" ",t," "]}),Object(j.jsx)("button",{className:"rigth-arrow",onClick:n,children:" V "})]})]})})};var D=function(e,t){var n=Object(c.useState)(1),r=Object(u.a)(n,2),s=r[0],a=r[1],i=Math.ceil(e.length/t);return{next:function(){a((function(e){return Math.min(e+1,i)}))},prev:function(){a((function(e){return Math.max(e-1,1)}))},jump:function(e){var t=Math.max(1,e);a((function(e){return Math.min(t,i)}))},currentData:function(){var n=(s-1)*t,c=n+t;return e.slice(n,c)},currentPage:s,maxPage:i}};var J=function(){var e=Object(c.useContext)(d),t=e.userData,n=e.setUserData,r=Object(c.useState)(-1),s=Object(u.a)(r,2),a=s[0],i=s[1],h=Object(c.useState)("All Products"),p=Object(u.a)(h,2),x=p[0],m=p[1],g=t.points,I=function(e){var t=Object(c.useContext)(d),n=t.productData,r=t.setProductData;return Object(c.useEffect)((function(){0===n.length&&function(){var t=Object(l.a)(o.a.mark((function t(){var n,c,s;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(){var t=Object(l.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,f);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=1,t.next=4,n();case 4:return c=t.sent,t.next=7,c.json();case 7:s=t.sent,r(s),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1),console.log(t.t0,"error here");case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}}()()}),[n,r,e]),{productData:n}}("https://coding-challenge-api.aerolab.co/products").productData;function J(){return(J=Object(l.a)(o.a.mark((function e(){var t,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(O,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTBjOTc5NWQwMDVjZDAwMjE0NDc3MDkiLCJpYXQiOjE2MjgyMTUxODl9.WnOZ5f3lMVnjsX3VI8JKQlCOI3nf1Nu6IhtkdykdsfI",redirect:"follow"}});case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,n(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}var w=function(e,t){g>=t?(fetch("https://coding-challenge-api.aerolab.co/redeem",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTBjOTc5NWQwMDVjZDAwMjE0NDc3MDkiLCJpYXQiOjE2MjgyMTUxODl9.WnOZ5f3lMVnjsX3VI8JKQlCOI3nf1Nu6IhtkdykdsfI"},body:JSON.stringify({productId:e})}).then((function(e){return e.json()})).then((function(e){"You've redeem the product successfully"===e.message?(k(!0),function(){J.apply(this,arguments)}()):y(!0)})).catch((function(e){return console.log("Te faltan puntos")})),g<=0&&y(!0)):console.log("Te faltan puntos")};console.log(x);var T=I.sort((function(e,t){return"Lowest Price"===x?e.cost-t.cost:"Highest Price"===x?t.cost-e.cost:e._id<t._id?-1:e._id>t._id?1:0})),P=D(T,16),V=P.next,Q=P.prev,E=P.currentData,A=P.currentPage;return Object(j.jsxs)("div",{className:"product-container",children:[Object(j.jsx)(C,{next:V,prev:Q,currentPage:A,handleByPrice:m}),E().map((function(e){return Object(j.jsxs)("div",{className:"card-container",onMouseLeave:function(){return i(-1)},onMouseEnter:function(){return i(e._id)},children:[a===e._id?Object(j.jsx)(M,{cost:e.cost,id:e._id,handleReedem:w,userPoints:g,hover:a,setHover:i}):[],Object(j.jsx)("div",{className:"pic-product-containe",children:Object(j.jsx)("img",{src:e.img.hdUrl,alt:e.name,border:"0",className:"pic-size"},e._id)}),Object(j.jsx)("hr",{className:"center-line"}),Object(j.jsxs)("div",{className:"text-container",children:[Object(j.jsx)("h5",{className:"category-text",children:e.category}),Object(j.jsx)("h3",{className:"product-text ",children:e.name}),g>=e.cost?a===e._id?Object(j.jsx)("img",{src:v,alt:"color Icon",className:"blu-icon"}):Object(j.jsx)("img",{src:N,alt:"color Icon",className:"buy-icon"}):Object(j.jsxs)("div",{className:"need-points",children:["you need $",e.cost-g,Object(j.jsx)("img",{src:b,alt:"coin"})]})]})]},e._id)}))]})};n(50),n(51);var w=function(){var e=Object(c.useContext)(d).setUserData,t=function(e){fetch("https://coding-challenge-api.aerolab.co/user/points",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTBjOTc5NWQwMDVjZDAwMjE0NDc3MDkiLCJpYXQiOjE2MjgyMTUxODl9.WnOZ5f3lMVnjsX3VI8JKQlCOI3nf1Nu6IhtkdykdsfI",redirect:"follow"},body:JSON.stringify({amount:e})}).then((function(e){return e.json()})).then((function(e){"Points Updated"===e.message?(k(!0),function(){n.apply(this,arguments)}()):y(!0)})).catch((function(e){return console.log("se presento problema trayendo los puntos")}))};function n(){return(n=Object(l.a)(o.a.mark((function t(){var n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(O,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTBjOTc5NWQwMDVjZDAwMjE0NDc3MDkiLCJpYXQiOjE2MjgyMTUxODl9.WnOZ5f3lMVnjsX3VI8JKQlCOI3nf1Nu6IhtkdykdsfI",redirect:"follow"}});case 3:return n=t.sent,t.next=6,n.json();case 6:c=t.sent,e(c),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("error",t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}return Object(j.jsxs)("div",{className:"points-container",children:[Object(j.jsx)("h1",{className:"title-points",children:"Get More Points"}),Object(j.jsx)("h2",{className:"subtitle",children:"Just select the points do you want to add"}),Object(j.jsxs)("div",{className:"button-container",children:[Object(j.jsxs)("button",{className:"button-containers",onClick:function(){return t(1e3)},children:[Object(j.jsx)("p",{children:"1000"}),Object(j.jsx)("img",{src:b,alt:"coin",className:"coin-container"})]}),Object(j.jsxs)("button",{className:"button-containers",onClick:function(){return t(5e3)},children:[Object(j.jsx)("p",{children:"5000"}),Object(j.jsx)("img",{src:b,alt:"coin",className:"coin-container"})]}),Object(j.jsxs)("button",{className:"button-containers",onClick:function(){return t(7500)},children:[Object(j.jsx)("p",{children:"7500"}),Object(j.jsx)("img",{src:b,alt:"coin",className:"coin-container"})]})]})]})};n(52);var T=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],r=t[1],s=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://coding-challenge-api.aerolab.co/user/history",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MTBjOTc5NWQwMDVjZDAwMjE0NDc3MDkiLCJpYXQiOjE2MjgyMTUxODl9.WnOZ5f3lMVnjsX3VI8JKQlCOI3nf1Nu6IhtkdykdsfI"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){0===n.length&&s()}),[r,n]),Object(j.jsxs)("div",{className:"redeem-container",children:[Object(j.jsx)("h1",{className:"title-redeem",children:" Redeem Productos "}),Object(j.jsx)("h3",{className:"subtitle-redeems",children:"There are your redeems product"}),Object(j.jsx)("div",{className:"redeemed-products-container",children:n.slice(-32).reverse().map((function(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"redeem-product-container",children:[Object(j.jsx)("img",{src:e.img.hdUrl,alt:e.name,border:"0",className:"pic-reddem-size"}),Object(j.jsx)("hr",{className:"center-box-line"}),Object(j.jsxs)("div",{className:"text-redeem-container",children:[Object(j.jsx)("p",{className:"cost-text",children:e.cost}),Object(j.jsx)("p",{className:"product-text",children:e.name})]})]},e._id)})}))})]})},P=n(2);var V=function(){return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(m,{}),Object(j.jsxs)(P.c,{children:[Object(j.jsx)(P.a,{exact:!0,path:"/store-niko-correa",component:J}),Object(j.jsx)(P.a,{path:"/points",component:w}),Object(j.jsx)(P.a,{path:"/redeem",component:T})]})]})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),s(e),a(e)}))};a.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(x.a,{children:Object(j.jsx)(h,{children:Object(j.jsx)(V,{})})})}),document.getElementById("root")),Q()}},[[53,1,2]]]);
//# sourceMappingURL=main.4fc71cb1.chunk.js.map